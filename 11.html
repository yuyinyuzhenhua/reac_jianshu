<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // let result = 100 + true + 21.2 + null + undefined + "Tencent" + [] + null + 9 + false
        // console.log(result)
        // let a = {
        //     val: 1,
        //     toString() {
        //         return this.val++;
        //     }
        // };
        // let val = 1;
        // Object.defineProperty(window, 'a', {
        //     get: function(){
        //         return val++;
        //     }
        // })

        // if(a == 1 &&  a == 2 && a == 3){
        //     console.log(99)
        // }

        // let arr = [10.18, 0, 10, 25, 23]
        // arr = arr.map(parseInt)
        // console.log(arr)  // [10, 0, 10, NaN, NaN]


        // var a= 0;
        // if(true) {
        //     a = 1;
        //     function a(){};
        //     a = 21;
        //     console.log(a) // 21
        // }
        //     console.log(a) // 

        // let res = fn(1, 2)(3)
        // function fn(a, b){
        //     return function(c){
        //         return b * c
        //     }
        // }
        // console.log(res) // 6

        // const add1 = (x) => x + 1;
        // const mul3 = (x) => x * 3;
        // const div2 = (x) => x / 2;

        // function compose(...funcs){
        //     return function(...args) {
        //         if(funcs.length === 0) return args;
        //         if(funcs.length === 1) return funcs[0](...args)
        //         let n = 0;
        //         return funcs.reduce((a, b) => {
        //             n++;
        //             if(n === 1) return b(a(...args))
        //             return b(a)
        //         })
        //     }
        // }

        // let result = compose(add1, mul3, div2, add1)(0, 1)
        // console.log(result)

            // function Dog(name){
            //     this.name = name;
            //     // return {name: 'yu'}
            // }
            // Dog.prototype.bark = function(){
            //     console.log('wangwang')
            // }
            // Dog.prototype.sayName = function(){
            //     console.log('my name is ' + this.name)
            // }

            // // let s = new Dog('三毛')
            // let s = _new(Dog, '三毛')
            // s.bark()
            // s.sayName()
            // console.log(s instanceof Dog)

            // function _new(Dog, ...args) {
            //     // let o = Object.create(Dog.prototype)
            //     let o = {}
            //     o.__proto__ = Dog.prototype 
            //     let res = Dog.call(o, ...args)
            //     if(Object.prototype.toString.call(res) === '[object Object]') {
            //         return res
            //     }
            //     return o
            // }

            // ~function(){
            //     function change(context, ...args) {
            //         let _this = this;
            //         context = context == undefined ? window : context
            //         const type = typeof context;
            //         if(!/^(object|function)$/.test(type)) {
            //             if(/^(symbol|bigint)$/.test(type)) {
            //                 context = Object(context)
            //             } else {
            //                 context = new context.constructor(context)
            //             }
            //         }

            //         // let key = Symbol('key')
            //         // context[key] = this;
            //         // let result = context[key](...args)
            //         // delete result[key]
            //         // return result;

            //         return function anonymous(...innerArgs) {
            //             _this.call(context, )
            //         }
            //     }
            //     Function.prototype.change = change
            // }()

            // function func(a, b) {
            //     this.total = a + b;
            //     return this;
            // }

            // let o = { name: '张三丰' }
            // // console.log(func.call(null, 100, 200))
            // console.log(func.change(12n, 100, 200))


            // let obj = {
            //     a: 100,
            //     b: [10, 20, 30],
            //     c: {
            //         x: 10
            //     },
            //     d: /^\d+$/,
            //     e: function M(){console.log(99)},
            //     f: undefined,
            //     g: Symbol('123'),
            //     h: BigInt(10),
            //     i: new Date()
            // };

            // let arr = [10, [100, 200], {
            //     x: 10,
            //     y: 20
            // }]

            // function getType(o) {
            //     let type = Object.prototype.toString.call(o)
            //     type = type.split(' ')[1].slice(0, -1)
            //     return type;
            // }

            // getType([])

            // function deep(data) {
            //     if(typeof data === null) {
            //         return data;
            //     }

            //     let type = getType(data);
            //     let o = null;

            //     if(type === 'Function') {
            //         console.log(data)
            //         return new Function(data)
            //     } else if(type === 'RegExp') {
            //         return new RegExp(data)
            //     } else if(type === 'Date') {
            //         return new Date(data)
            //     } else if(type === 'Array') {
            //         o = [];
            //     } else if(type === 'Object') {
            //         o = {};
            //     } else {
            //         return data;
            //     }

            //     for(let key in data) {
            //         o[key] = deep(data[key])
            //     }
            //     return o;
            // }
            // let newObj = deep(obj)
            // newObj.b[1] = 200
            // console.log(obj)
            // setTimeout(() => {
            //     console.log(obj, newObj)
            // }, 10000)



                // 微任务   console.log('setTimeout')
                // 宏任务  console.log('async1 end')     console.log('promise2') console.log('promise3')
            // async function async1() {
            //     console.log('async1 start') // 2
            //     await async2()
            //     console.log('async1 end') //  6
            // }
            // async function async2() {
            //     console.log('async2') // 3
            // }
            // console.log('script start') // 1
            // setTimeout(function(){
            //     console.log('setTimeout') // 9
            // }, 0)
            // async1() 
            // new Promise(function(resolve){
                
            //     setTimeout(function(){
            //         console.log('promise1  1111111111111111111') //  4
            //     }, 0)
            //     resolve()
            // }).then(function(){
            //     console.log('promise2') // 7
            // }).then(function(){
            //     console.log('promise3') // 8
            // })
            // console.log('script end') //  5




            // 微任务  console.log(5) 
            // setTimeout(() => {
            //             resolve('OK func2')
            //         }, 10)

            // 宏任务 
            // setTimeout(async () => {
            //     console.log(2)
            //     await func1()
            //     console.log(3)
            // }, 20)
            // setTimeout(() => {
            //     console.log(7)
            // },0)
            // resolve('OK func2')

            // function func1() {
            //     console.log('func1 start') // 3  10
            //     return new Promise(resolve => {
            //         resolve('OK func1')
            //     })
            // }

            // function func2() {
            //     console.log('func2 start') // 4
            //     return new Promise(resolve => {
            //         setTimeout(() => {
            //             resolve('OK func2')
            //         }, 10)
            //     })
            // }

            // console.log(1) // 1

            // setTimeout(async () => {
            //     console.log(2) //9
            //     await func1()
            //     console.log(3) //11
            // }, 20)

            // for(let i = 0; i < 90000000; i++) {}
            // console.log(4) // 2

            // func1().then(result => {
            //     console.log(5) //6
            // })

            // func2().then(result => {
            //     console.log(6)  // 8
            // })

            // setTimeout(() => {
            //     console.log(7) // 7
            // },0)
            // console.log(8)  // 5



            // 
            // {
            //     function foo(){}
            //     foo = 1
            // }
            // console.log(foo)

            // {
            //     function foo(){}
            //     foo = 1
            //     function foo(){}
            // }
            // console.log(foo)


            // {
            //     function foo(){}
            //     foo = 1
            //     function foo(){}
            //     foo = 2
            // }
            // console.log(foo)


            // for(var i = 0; i <10; i++) {
            //     var j = i + 1
            // }
            // console.log(i, j)




    // isEqual
    // let o1 = {
    //     a: 100,
    //     b: {
    //         x: 1,
    //         y: 2
    //     }
    // };
    // let o2 = {
    //     a: 100,
    //     b: {
    //         x: 1,
    //         y: 2
    //     }
    // };
    // console.log(isEqual(o1, o2))
    // function isObject(data) {
    //     return typeof data === 'object' && data !== null
    // }

    // function isEqual(o1, o2) {
    //     if( !isObject(o1) || !isObject(o2) ) {
    //         return o1 === o2
    //     }

    //     if(o1 === o2) {
    //         return true
    //     }

    //     let o1keys = Object.keys(o1)
    //     let o2keys = Object.keys(o2)
    //     if(o1keys.length !== o2keys.length) {
    //         return false
    //     }

    //     for(let key in o1) {
    //         console.log(o1[key], o2[key])
    //         const res = isEqual(o1[key], o2[key])
    //         if(!res) {
    //             return false
    //         }
    //     }
    // }




    // var arr = [1, 2, 3, 4]
    // arr.forEach(item => {
    //     console.log(item)
    //     return item = item + '1'
    // })
    // console.log(arr)

    // let a = [10, 20, 11].map(parseInt)
    // console.log(a)
        // 10  0-----10
        // 20, 1-----NaN
        // 30, 2-----NaN



    // var arr = [0, 1, 2, 3, 4, 5, 6]
    // let newRes = arr.splice(1, 2, 'a', 'b', 'c')
    // let newRes = arr.splice(2, 3)
    // let newRes = arr.splice(2, 0, 'a', 'b')
    // console.log(arr, newRes)


    var arr = [1, {a: 100}, 3]
    var arr1 = arr.slice()
    arr1[1] = 200
    console.log(arr, arr1)

    </script>
</body>
</html>